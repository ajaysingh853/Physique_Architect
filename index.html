<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hips & Legs Hypertrophy | Personalized Plan</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

    <!-- Custom Styles for Chart Containers & Specific UI tweaks -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f5f5f4; /* Stone 100 - Warm Neutral */
            color: #1c1917; /* Stone 900 */
        }

        /* Chart Container Styling - Mandatory Requirements */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px; /* max-w-xl/2xl equivalent */
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }

        /* Custom Scrollbar for meal lists if needed */
        .custom-scroll::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scroll::-webkit-scrollbar-track {
            background: #e7e5e4;
        }
        .custom-scroll::-webkit-scrollbar-thumb {
            background: #a8a29e;
            border-radius: 4px;
        }

        .active-day {
            background-color: #ea580c; /* Orange 600 */
            color: white;
            border-color: #ea580c;
        }

        /* Modal Styles */
        .modal-open {
            display: flex;
        }
        .markdown-prose p { margin-bottom: 0.75rem; }
        .markdown-prose ul { list-style-type: disc; padding-left: 1.5rem; margin-bottom: 0.75rem; }
        .markdown-prose li { margin-bottom: 0.25rem; }
        .markdown-prose strong { color: #ea580c; font-weight: 700; }
        .markdown-prose h3 { font-size: 1.25rem; font-weight: 700; margin-top: 1rem; margin-bottom: 0.5rem; color: #1c1917; }
    </style>

    <!-- Chosen Palette: Warm Neutrals (Stone) with Burnt Orange Accents. -->
    
    <!-- Application Structure Plan: 
         1. Header: Quick Profile & Core Strategy (Goal Setting).
         2. Main Dashboard (Grid Layout):
            - Left Col: Weekly Schedule Interactive (Central Navigation).
            - Right Col: Dynamic Detail Panel + Gemini Coach Integration.
         3. Nutrition Section: Meal Slider + Gemini Chef Integration.
         4. Analytics Section: Visualizing the "Why".
         5. Tips & Recovery: Static footer.
    -->
    
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="bg-stone-50 text-stone-800 antialiased selection:bg-orange-200 selection:text-orange-900">

    <!-- Navbar -->
    <nav class="bg-white border-b border-stone-200 shadow-sm sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
            <div class="flex items-center gap-2">
                <span class="text-2xl">üèãÔ∏è‚Äç‚ôÇÔ∏è</span>
                <h1 class="text-xl font-bold tracking-tight text-stone-900">Physique Architect</h1>
            </div>
            <div class="hidden md:flex space-x-8 text-sm font-medium text-stone-600">
                <a href="#strategy" class="hover:text-orange-600 transition-colors">Strategy</a>
                <a href="#schedule" class="hover:text-orange-600 transition-colors">Weekly Plan</a>
                <a href="#nutrition" class="hover:text-orange-600 transition-colors">Nutrition</a>
                <a href="#tips" class="hover:text-orange-600 transition-colors">Success Tips</a>
            </div>
        </div>
    </nav>

    <!-- Hero / Profile Summary -->
    <header id="strategy" class="bg-white py-12 border-b border-stone-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="lg:flex lg:items-center lg:justify-between">
                <div class="lg:w-1/2">
                    <div class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800 mb-4">
                        Target: Lower Body Hypertrophy
                    </div>
                    <h2 class="text-3xl font-bold text-stone-900 sm:text-4xl">Your Growth Blueprint</h2>
                    <p class="mt-4 text-lg text-stone-600 leading-relaxed">
                        Based on your profile (31y, 180cm, 71kg), this pure vegetarian plan targets a <strong class="text-orange-600">2,600‚Äì2,800 calorie surplus</strong> combined with high-volume resistance training to widen hips and build leg mass.
                    </p>
                    
                    <div class="mt-8 grid grid-cols-2 gap-4 sm:grid-cols-4">
                        <div class="bg-stone-50 p-4 rounded-lg border border-stone-200 text-center">
                            <div class="text-2xl font-bold text-stone-900">2.8k</div>
                            <div class="text-xs text-stone-500 uppercase tracking-wide">Daily Calories</div>
                        </div>
                        <div class="bg-stone-50 p-4 rounded-lg border border-stone-200 text-center">
                            <div class="text-2xl font-bold text-stone-900">4</div>
                            <div class="text-xs text-stone-500 uppercase tracking-wide">Workouts/Week</div>
                        </div>
                        <div class="bg-stone-50 p-4 rounded-lg border border-stone-200 text-center">
                            <div class="text-2xl font-bold text-stone-900">3-4L</div>
                            <div class="text-xs text-stone-500 uppercase tracking-wide">Water Intake</div>
                        </div>
                        <div class="bg-stone-50 p-4 rounded-lg border border-stone-200 text-center">
                            <div class="text-2xl font-bold text-stone-900">Veg</div>
                            <div class="text-xs text-stone-500 uppercase tracking-wide">Diet Type</div>
                        </div>
                    </div>
                </div>

                <!-- Strategy Visualization -->
                <div class="mt-10 lg:mt-0 lg:w-1/2 flex flex-col items-center">
                    <div class="w-full text-center mb-4">
                        <h3 class="text-sm font-semibold text-stone-500 uppercase">Estimated Macro Strategy</h3>
                        <p class="text-xs text-stone-400">High carb for energy, sufficient protein for repair.</p>
                    </div>
                    <div class="chart-container">
                        <canvas id="macroChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Interactive Schedule Section -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <div id="schedule" class="mb-10">
            <h3 class="text-2xl font-bold text-stone-900 mb-4">Weekly Schedule & Focus</h3>
            <p class="text-stone-600 max-w-3xl mb-8">
                Consistency is key. Click on a day below to view your specific training protocol.
                <br>
                <span class="text-sm text-orange-600 font-medium">‚ú® New: Use "Coach Gemini" to get instant form cues and modification tips.</span>
            </p>

            <!-- Day Selector -->
            <div class="grid grid-cols-4 sm:grid-cols-7 gap-2 mb-8">
                <button onclick="selectDay(1)" id="btn-day-1" class="day-btn p-3 rounded-lg border border-stone-200 bg-white hover:bg-orange-50 transition-all text-center focus:outline-none focus:ring-2 focus:ring-orange-500">
                    <span class="block text-xs text-stone-400 font-bold uppercase">Day 1</span>
                    <span class="block font-bold text-stone-800">Hips</span>
                </button>
                <button onclick="selectDay(2)" id="btn-day-2" class="day-btn p-3 rounded-lg border border-stone-200 bg-white hover:bg-orange-50 transition-all text-center focus:outline-none focus:ring-2 focus:ring-orange-500">
                    <span class="block text-xs text-stone-400 font-bold uppercase">Day 2</span>
                    <span class="block font-bold text-stone-800">Upper</span>
                </button>
                <button onclick="selectDay(3)" id="btn-day-3" class="day-btn p-3 rounded-lg border border-stone-200 bg-white hover:bg-orange-50 transition-all text-center focus:outline-none focus:ring-2 focus:ring-orange-500">
                    <span class="block text-xs text-stone-400 font-bold uppercase">Day 3</span>
                    <span class="block font-bold text-stone-800">Rest</span>
                </button>
                <button onclick="selectDay(4)" id="btn-day-4" class="day-btn p-3 rounded-lg border border-stone-200 bg-white hover:bg-orange-50 transition-all text-center focus:outline-none focus:ring-2 focus:ring-orange-500">
                    <span class="block text-xs text-stone-400 font-bold uppercase">Day 4</span>
                    <span class="block font-bold text-stone-800">Legs</span>
                </button>
                <button onclick="selectDay(5)" id="btn-day-5" class="day-btn p-3 rounded-lg border border-stone-200 bg-white hover:bg-orange-50 transition-all text-center focus:outline-none focus:ring-2 focus:ring-orange-500">
                    <span class="block text-xs text-stone-400 font-bold uppercase">Day 5</span>
                    <span class="block font-bold text-stone-800">Rest</span>
                </button>
                <button onclick="selectDay(6)" id="btn-day-6" class="day-btn p-3 rounded-lg border border-stone-200 bg-white hover:bg-orange-50 transition-all text-center focus:outline-none focus:ring-2 focus:ring-orange-500">
                    <span class="block text-xs text-stone-400 font-bold uppercase">Day 6</span>
                    <span class="block font-bold text-stone-800">Full</span>
                </button>
                <button onclick="selectDay(7)" id="btn-day-7" class="day-btn p-3 rounded-lg border border-stone-200 bg-white hover:bg-orange-50 transition-all text-center focus:outline-none focus:ring-2 focus:ring-orange-500">
                    <span class="block text-xs text-stone-400 font-bold uppercase">Day 7</span>
                    <span class="block font-bold text-stone-800">Rest</span>
                </button>
            </div>

            <!-- Dynamic Day Content -->
            <div class="bg-white rounded-xl shadow-sm border border-stone-200 overflow-hidden">
                <div class="md:flex">
                    <!-- Text/List Content -->
                    <div class="p-6 md:w-2/3">
                        <div class="flex flex-wrap items-center justify-between mb-4 gap-2">
                            <h4 id="day-title" class="text-2xl font-bold text-stone-900">Select a day</h4>
                            <div class="flex gap-2">
                                <span id="day-focus-tag" class="px-3 py-1 rounded-full text-xs font-bold bg-stone-100 text-stone-600 h-fit">Status</span>
                                <button onclick="askCoach()" class="flex items-center gap-1 bg-gradient-to-r from-orange-500 to-pink-500 text-white px-3 py-1 rounded-full text-xs font-bold hover:opacity-90 transition-opacity shadow-sm">
                                    <span>‚ú® Coach Gemini</span>
                                </button>
                            </div>
                        </div>
                        <p id="day-description" class="text-stone-600 mb-6 italic">Select a day above to see the plan.</p>
                        
                        <div id="exercise-list-container" class="space-y-4">
                            <!-- Exercises injected here -->
                        </div>
                    </div>

                    <!-- Visual Context -->
                    <div class="bg-stone-50 p-6 md:w-1/3 border-t md:border-t-0 md:border-l border-stone-200 flex flex-col justify-center items-center">
                        <div class="text-center w-full">
                            <h5 class="text-sm font-bold text-stone-500 uppercase mb-4">Volume Distribution</h5>
                            <div class="chart-container" style="height: 200px;">
                                <canvas id="volumeChart"></canvas>
                            </div>
                            <p class="text-xs text-stone-400 mt-2">Relative intensity per muscle group</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Nutrition Section -->
        <div id="nutrition" class="py-12 border-t border-stone-200">
            <div class="flex flex-col md:flex-row md:items-center justify-between mb-8">
                <div>
                    <h3 class="text-2xl font-bold text-stone-900">Vegetarian Fueling Strategy</h3>
                    <p class="text-stone-600 mt-2">
                        To gain weight, you must eat <span class="font-bold text-orange-600">frequently</span>. 
                        <br>
                        <span class="text-sm text-orange-600 font-medium">‚ú® New: Use "Chef Gemini" to turn ingredients into recipes!</span>
                    </p>
                </div>
                <div class="mt-4 md:mt-0 flex gap-2">
                    <button onclick="changeMeal(-1)" class="p-2 rounded-full border border-stone-300 hover:bg-stone-100 transition-colors">
                        ‚¨ÖÔ∏è Prev
                    </button>
                    <button onclick="changeMeal(1)" class="p-2 rounded-full border border-stone-300 hover:bg-stone-100 transition-colors">
                        Next ‚û°Ô∏è
                    </button>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-12 gap-6">
                <!-- Meal Card -->
                <div class="md:col-span-8 bg-white rounded-xl shadow-lg border border-orange-100 overflow-hidden relative min-h-[300px]">
                    <div class="absolute top-0 left-0 w-2 h-full bg-orange-500"></div>
                    <div class="p-8">
                        <div class="flex justify-between items-start mb-4">
                            <div>
                                <h4 id="meal-name" class="text-xl font-bold text-stone-900">Breakfast</h4>
                                <span id="meal-type" class="text-sm text-stone-500 uppercase tracking-wider font-semibold">High Energy</span>
                            </div>
                            <button onclick="askChef()" class="flex items-center gap-2 bg-gradient-to-r from-emerald-500 to-teal-500 text-white px-4 py-2 rounded-lg font-bold shadow-md hover:scale-105 transition-transform">
                                <span>üë®‚Äçüç≥ Chef Gemini ‚ú®</span>
                            </button>
                        </div>
                        
                        <div id="meal-options" class="space-y-4 text-lg text-stone-700">
                            <!-- Meal items injected here -->
                        </div>
                        
                        <div class="mt-8 pt-6 border-t border-stone-100 flex gap-4">
                            <div class="flex items-center gap-2">
                                <span class="w-3 h-3 rounded-full bg-orange-500"></span>
                                <span id="meal-focus" class="text-sm font-medium text-stone-600">Focus: Energy Loading</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Shopping List / Key Ingredients Panel -->
                <div class="md:col-span-4 bg-orange-50 rounded-xl p-6 border border-orange-100">
                    <h4 class="font-bold text-stone-900 mb-4">üõí Key Pantry Builders</h4>
                    <ul class="space-y-3 text-sm text-stone-700">
                        <li class="flex items-center gap-2">
                            <span>ü•õ</span> <span><strong>Full Fat Dairy:</strong> Milk, Paneer, Curd, Ghee.</span>
                        </li>
                        <li class="flex items-center gap-2">
                            <span>ü•ú</span> <span><strong>Fats:</strong> Almonds, Cashews, Peanut Butter.</span>
                        </li>
                        <li class="flex items-center gap-2">
                            <span>ü•î</span> <span><strong>Carbs:</strong> Sweet Potato, Oats, Bananas, Multigrain Bread.</span>
                        </li>
                        <li class="flex items-center gap-2">
                            <span>üå±</span> <span><strong>Protein:</strong> Whey (optional), Lentils, Soya Chunks.</span>
                        </li>
                    </ul>
                </div>
            </div>
            
            <!-- Quick Timeline for context -->
            <div class="mt-6 flex justify-between text-xs text-stone-400 px-4">
                <span>Morning</span>
                <span>Mid-Day</span>
                <span>Pre-Workout</span>
                <span>Night</span>
            </div>
            <div class="w-full h-1 bg-stone-200 rounded-full mt-2 overflow-hidden">
                <div id="meal-progress-bar" class="h-full bg-orange-500 transition-all duration-300" style="width: 14%"></div>
            </div>
        </div>

        <!-- Success Tips Section -->
        <section id="tips" class="py-12">
            <h3 class="text-2xl font-bold text-stone-900 mb-6">4 Pillars of Growth</h3>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                <div class="bg-white p-6 rounded-lg border border-stone-200 shadow-sm hover:shadow-md transition-shadow">
                    <div class="text-orange-600 text-xl mb-3">üìà</div>
                    <h4 class="font-bold text-stone-900 mb-2">Progressive Overload</h4>
                    <p class="text-sm text-stone-600">You cannot grow using the same weights. Add weight or 1 rep every week.</p>
                </div>
                <div class="bg-white p-6 rounded-lg border border-stone-200 shadow-sm hover:shadow-md transition-shadow">
                    <div class="text-orange-600 text-xl mb-3">ü•ë</div>
                    <h4 class="font-bold text-stone-900 mb-2">Don't Fear Fat</h4>
                    <p class="text-sm text-stone-600">As a vegetarian hard-gainer, Ghee, Oils, and Nuts are your easiest calories.</p>
                </div>
                <div class="bg-white p-6 rounded-lg border border-stone-200 shadow-sm hover:shadow-md transition-shadow">
                    <div class="text-orange-600 text-xl mb-3">üîÅ</div>
                    <h4 class="font-bold text-stone-900 mb-2">Consistency</h4>
                    <p class="text-sm text-stone-600">Structural changes take time. Commit to 8-12 weeks without skipping.</p>
                </div>
                <div class="bg-white p-6 rounded-lg border border-stone-200 shadow-sm hover:shadow-md transition-shadow">
                    <div class="text-orange-600 text-xl mb-3">üí§</div>
                    <h4 class="font-bold text-stone-900 mb-2">Sleep = Growth</h4>
                    <p class="text-sm text-stone-600">Muscles recover and grow while you sleep. Aim for 7-8 hours nightly.</p>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-stone-900 text-stone-400 py-8 text-center text-sm">
        <p>Generated based on your personalized pure vegetarian hypertrophy plan.</p>
        <p class="mt-2 text-xs">Features powered by Gemini API ‚ú®</p>
    </footer>

    <!-- Gemini AI Result Modal -->
    <div id="ai-modal" class="fixed inset-0 z-[100] hidden items-center justify-center bg-stone-900/50 backdrop-blur-sm p-4">
        <div class="bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[80vh] flex flex-col">
            <!-- Modal Header -->
            <div class="p-6 border-b border-stone-100 flex justify-between items-center bg-gradient-to-r from-stone-50 to-white">
                <div class="flex items-center gap-2">
                    <span class="text-2xl">‚ú®</span>
                    <h3 id="modal-title" class="text-xl font-bold text-stone-800">Gemini Insight</h3>
                </div>
                <button onclick="closeModal()" class="text-stone-400 hover:text-stone-600 p-2">‚úï</button>
            </div>
            
            <!-- Modal Body -->
            <div id="modal-content" class="p-6 overflow-y-auto custom-scroll text-stone-700 leading-relaxed markdown-prose">
                <!-- Content injected here -->
            </div>

            <!-- Modal Footer -->
            <div class="p-4 border-t border-stone-100 bg-stone-50 flex justify-end rounded-b-xl">
                <button onclick="closeModal()" class="px-4 py-2 bg-white border border-stone-200 rounded-lg text-stone-600 hover:bg-stone-100 font-medium">Close</button>
            </div>
        </div>
    </div>

    <!-- JavaScript Implementation -->
    <script>
        const apiKey = ""; // System will provide the key
        
        // --- Gemini API Helper ---
        async function callGemini(promptText) {
            const modal = document.getElementById('ai-modal');
            const contentDiv = document.getElementById('modal-content');
            const titleDiv = document.getElementById('modal-title');
            
            // Show Loading
            modal.classList.remove('hidden');
            modal.classList.add('flex');
            contentDiv.innerHTML = `
                <div class="flex flex-col items-center justify-center py-12 space-y-4">
                    <div class="w-12 h-12 border-4 border-orange-200 border-t-orange-500 rounded-full animate-spin"></div>
                    <p class="text-stone-500 animate-pulse">Consulting Gemini AI...</p>
                </div>
            `;

            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: promptText }] }]
                    })
                });

                if (!response.ok) throw new Error('API Call Failed');
                
                const data = await response.json();
                const rawText = data.candidates[0].content.parts[0].text;
                
                // Simple Markdown formatting
                const formattedText = rawText
                    .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>') // Bold
                    .replace(/\* (.*?)\n/g, '<ul class="list-disc ml-5"><li>$1</li></ul>') // Lists (Basic)
                    .replace(/\n\n/g, '<br><br>'); // Paragraphs

                contentDiv.innerHTML = formattedText;

            } catch (error) {
                console.error(error);
                contentDiv.innerHTML = `<div class="text-red-500 p-4 bg-red-50 rounded-lg">Sorry, Gemini couldn't connect right now. Please try again.</div>`;
            }
        }

        function closeModal() {
            document.getElementById('ai-modal').classList.add('hidden');
            document.getElementById('ai-modal').classList.remove('flex');
        }

        // --- AI Features ---

        async function askChef() {
            document.getElementById('modal-title').textContent = "Chef Gemini ‚ú® - Recipe Generator";
            const meal = mealData[currentMealIndex];
            const prompt = `
                You are a 5-star vegetarian chef. The user needs to gain weight (hypertrophy).
                They have selected this meal option: "${meal.items.join(' OR ')}".
                
                Please generate a specific, delicious, high-calorie recipe based on one of these options.
                Include:
                1. A creative title.
                2. Exact Ingredients list (assume they have the pantry items: Milk, Paneer, Nuts, Oats, Rice).
                3. Step-by-step cooking instructions.
                4. A "Calorie Booster" tip (e.g. "Add a spoon of ghee").
                
                Keep it concise but mouth-watering. Use formatting like **bold** for key items.
            `;
            await callGemini(prompt);
        }

        async function askCoach() {
            document.getElementById('modal-title').textContent = "Coach Gemini ‚ú® - Form & Tips";
            // Get current active day
            let dayNum = 1; // Default
            document.querySelectorAll('.day-btn').forEach((btn, index) => {
                if(btn.classList.contains('active-day')) dayNum = index + 1;
            });
            
            const day = scheduleData[dayNum];
            
            // If rest day, give recovery tips
            if(day.focus === "Rest" || day.focus === "Recovery") {
                 const prompt = `
                    You are an expert hypertrophy coach. The user is on a Rest Day (Day ${dayNum}).
                    Give them 3 scientifically backed recovery tips to maximize muscle growth today.
                    Focus on: Sleep, Active Recovery, and Protein intake for a vegetarian.
                    Keep it encouraging.
                `;
                await callGemini(prompt);
                return;
            }

            // If workout day, give form cues
            const exerciseNames = day.exercises.map(e => e.name).join(', ');
            const prompt = `
                You are an expert hypertrophy coach. The user is doing "Day ${dayNum}: ${day.title}".
                The exercises are: ${exerciseNames}.
                
                Please provide:
                1. A "Hype" intro to get them motivated to lift heavy.
                2. One specific "Pro Form Tip" for the main compound lift of the day to maximize glute/leg activation.
                3. A substitution idea in case they don't have gym equipment for one exercise.
                
                Keep it punchy, energetic, and professional.
            `;
            await callGemini(prompt);
        }

        // --- Data Storage ---
        
        // Workout Data
        const scheduleData = {
            1: {
                title: "Day 1: Glutes & Hamstrings",
                focus: "Hips Focus",
                desc: "The primary day for widening hips. Heavy compounds followed by isolation.",
                exercises: [
                    { name: "Hip Thrusts", sets: "4 sets x 10-12 reps", note: "The #1 exercise for glute size. Use heavy weight." },
                    { name: "Sumo Squats", sets: "3 sets x 12 reps", note: "Wide stance targets inner thighs and side glutes." },
                    { name: "Romanian Deadlifts", sets: "3 sets x 10 reps", note: "Builds hamstrings for a thicker leg look." },
                    { name: "Glute Bridges", sets: "3 sets x 15 reps", note: "Hold for 2 seconds at the top." },
                    { name: "Side-Lying Leg Raises", sets: "3 sets x 20 reps/leg", note: "Use ankle weights if possible." }
                ],
                chartData: [80, 20, 0] // Lower, Core, Upper
            },
            2: {
                title: "Day 2: Upper Body & Core",
                focus: "Maintenance",
                desc: "Keep the upper body toned to maintain proportion, but save energy for legs.",
                exercises: [
                    { name: "Push-ups", sets: "3 sets x 15 reps", note: "Chest and triceps." },
                    { name: "Overhead Shoulder Press", sets: "3 sets x 12 reps", note: "Shoulder width." },
                    { name: "Bent Over Rows", sets: "3 sets x 12 reps", note: "Back thickness." },
                    { name: "Plank", sets: "3 sets x 45-60 sec", note: "Core stability." }
                ],
                chartData: [0, 40, 60]
            },
            3: {
                title: "Day 3: Rest & Recovery",
                focus: "Growth",
                desc: "Eat well today. Your muscles grow when you rest, not when you train.",
                exercises: [
                    { name: "Active Recovery", sets: "Light Walking", note: "Keep blood flowing but no heavy lifting." },
                    { name: "Nutrition Focus", sets: "Hit Calorie Goal", note: "Ensure you hit 2,800 calories." }
                ],
                chartData: [0, 0, 0]
            },
            4: {
                title: "Day 4: Quads & Calves",
                focus: "Leg Size",
                desc: "Building the front of the thigh for mass and volume.",
                exercises: [
                    { name: "Goblet/Barbell Squats", sets: "4 sets x 8-10 reps", note: "King of leg builders. Go deep." },
                    { name: "Lunges", sets: "3 sets x 12 reps/leg", note: "Unilateral movement corrects imbalances." },
                    { name: "Bulgarian Split Squats", sets: "3 sets x 8 reps/leg", note: "Effective for quads and glutes." },
                    { name: "Calf Raises", sets: "4 sets x 20 reps", note: "High volume for calves." }
                ],
                chartData: [90, 10, 0]
            },
            5: {
                title: "Day 5: Rest",
                focus: "Recovery",
                desc: "Take it easy. Prepare for the full body volume tomorrow.",
                exercises: [
                    { name: "Hydration", sets: "3-4 Liters", note: "Drink water throughout the day." }
                ],
                chartData: [0, 0, 0]
            },
            6: {
                title: "Day 6: Full Body Volume",
                focus: "Volume",
                desc: "A final push hitting all major muscle groups with compound movements.",
                exercises: [
                    { name: "Step-Ups", sets: "3 sets x 15 reps/leg", note: "Great for glutes and quads." },
                    { name: "Bodyweight Squats", sets: "3 sets x 20 reps", note: "High reps for endurance/volume." },
                    { name: "Dumbbell Deadlifts", sets: "3 sets x 12 reps", note: "Posterior chain." },
                    { name: "Mountain Climbers", sets: "3 sets x 30 sec", note: "Cardio and core." }
                ],
                chartData: [60, 20, 20]
            },
            7: {
                title: "Day 7: Rest",
                focus: "Recovery",
                desc: "Prepare for the week ahead. Meal prep today.",
                exercises: [
                    { name: "Meal Prep", sets: "-", note: "Prepare beans/lentils for the week." }
                ],
                chartData: [0, 0, 0]
            }
        };

        // Nutrition Data
        const mealData = [
            {
                name: "Meal 1: Breakfast",
                type: "High Energy",
                focus: "Start Strong",
                items: [
                    "<strong>Option A:</strong> 2 Multigrain toast + Peanut Butter + Banana + Milk",
                    "<strong>Option B:</strong> Oatmeal + Milk + Almonds/Walnuts + Honey",
                    "<strong>Option C:</strong> 2 Paneer Paratha + Curd"
                ]
            },
            {
                name: "Meal 2: Mid-Morning",
                type: "Healthy Fats",
                focus: "Calorie Density",
                items: [
                    "<strong>Essential:</strong> Handful of mixed nuts (Almonds, Cashews) & Dried Figs/Dates",
                    "<strong>Drink:</strong> Coconut water or Mango/Banana Milkshake"
                ]
            },
            {
                name: "Meal 3: Lunch",
                type: "Balanced Macro",
                focus: "Sustained Energy",
                items: [
                    "<strong>Carbs:</strong> 2-3 Roti (w/ Ghee) OR 1.5 cups Rice",
                    "<strong>Protein:</strong> 1 big bowl Dal OR Rajma/Chole",
                    "<strong>Veg:</strong> Seasonal Sabzi cooked in Olive Oil/Ghee",
                    "<strong>Sides:</strong> Thick Curd + Cucumber Salad"
                ]
            },
            {
                name: "Meal 4: Pre-Workout",
                type: "Carbs",
                focus: "Workout Fuel (1hr before)",
                items: [
                    "2 Bananas OR 1 Boiled Potato",
                    "Optional: Black Coffee for focus"
                ]
            },
            {
                name: "Meal 5: Post-Workout",
                type: "Protein & Recovery",
                focus: "Critical for Growth",
                items: [
                    "<strong>Protein:</strong> 1 scoop Whey OR 100g Saut√©ed Paneer OR Soya Chunks",
                    "<strong>Carbs:</strong> White Rice or Banana (replenish glycogen)"
                ]
            },
            {
                name: "Meal 6: Dinner",
                type: "Light Protein",
                focus: "Night Repair",
                items: [
                    "<strong>Main:</strong> 2 Rotis or Khichdi",
                    "<strong>Protein:</strong> 100-150g Paneer Bhurji or Palak Paneer",
                    "<strong>Fiber:</strong> Green Salad"
                ]
            },
            {
                name: "Meal 7: Bedtime",
                type: "Slow Digesting",
                focus: "Sleep Recovery",
                items: [
                    "1 glass warm Turmeric Milk (Haldi Doodh)",
                    "A few almonds"
                ]
            }
        ];

        // --- State Management ---
        let currentMealIndex = 0;
        let volumeChartInstance = null;
        let macroChartInstance = null;

        // --- Logic & Functions ---

        function initCharts() {
            // 1. Macro Strategy Chart (Doughnut)
            const ctxMacro = document.getElementById('macroChart').getContext('2d');
            macroChartInstance = new Chart(ctxMacro, {
                type: 'doughnut',
                data: {
                    labels: ['Carbs (Energy)', 'Protein (Muscle)', 'Fats (Hormones/Cals)'],
                    datasets: [{
                        data: [50, 25, 25], // Estimated split for vegetarian bulk
                        backgroundColor: ['#fed7aa', '#f97316', '#a8a29e'], // Orange-200, Orange-500, Stone-400
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom', labels: { boxWidth: 10, padding: 10, font: {size: 10} } },
                        tooltip: { callbacks: { label: (ctx) => ` ${ctx.label}: ~${ctx.raw}%` } }
                    },
                    cutout: '70%'
                }
            });

            // 2. Volume Chart (Bar - Placeholder for initialization)
            const ctxVol = document.getElementById('volumeChart').getContext('2d');
            volumeChartInstance = new Chart(ctxVol, {
                type: 'bar',
                data: {
                    labels: ['Lower Body', 'Core/Abs', 'Upper Body'],
                    datasets: [{
                        label: 'Training Intensity',
                        data: [80, 20, 10], // Default Day 1
                        backgroundColor: ['#ea580c', '#fdba74', '#d6d3d1'],
                        borderRadius: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false }
                    },
                    scales: {
                        y: { beginAtZero: true, max: 100, display: false },
                        x: { grid: { display: false } }
                    }
                }
            });
        }

        function selectDay(dayNum) {
            // Update Buttons
            document.querySelectorAll('.day-btn').forEach(btn => {
                btn.classList.remove('active-day', 'ring-2', 'ring-orange-500');
                btn.querySelector('span:first-child').classList.remove('text-white'); // Day label
                btn.querySelector('span:first-child').classList.add('text-stone-400');
                btn.querySelector('span:last-child').classList.remove('text-white'); // Focus label
                btn.querySelector('span:last-child').classList.add('text-stone-800');
            });

            const activeBtn = document.getElementById(`btn-day-${dayNum}`);
            activeBtn.classList.add('active-day', 'ring-2', 'ring-orange-500');
            activeBtn.querySelector('span:first-child').classList.remove('text-stone-400');
            activeBtn.querySelector('span:first-child').classList.add('text-orange-100');
            activeBtn.querySelector('span:last-child').classList.remove('text-stone-800');
            activeBtn.querySelector('span:last-child').classList.add('text-white');

            // Update Content
            const data = scheduleData[dayNum];
            document.getElementById('day-title').textContent = data.title;
            document.getElementById('day-focus-tag').textContent = data.focus;
            document.getElementById('day-description').textContent = data.desc;

            // Update List
            const listContainer = document.getElementById('exercise-list-container');
            listContainer.innerHTML = '';
            
            data.exercises.forEach(ex => {
                const item = document.createElement('div');
                item.className = "flex items-start p-3 bg-stone-50 rounded-lg border border-stone-100";
                item.innerHTML = `
                    <span class="text-orange-500 mr-3 mt-1">‚û§</span>
                    <div>
                        <div class="font-bold text-stone-800">${ex.name}</div>
                        <div class="text-sm text-stone-600">${ex.sets}</div>
                        <div class="text-xs text-stone-500 italic mt-1">${ex.note}</div>
                    </div>
                `;
                listContainer.appendChild(item);
            });

            // Update Chart
            if (volumeChartInstance) {
                volumeChartInstance.data.datasets[0].data = data.chartData;
                volumeChartInstance.update();
            }
        }

        function updateMealDisplay() {
            const data = mealData[currentMealIndex];
            
            // Animate Text
            const mealName = document.getElementById('meal-name');
            mealName.textContent = data.name;
            document.getElementById('meal-type').textContent = data.type;
            document.getElementById('meal-focus').textContent = `Focus: ${data.focus}`;
            
            const optionsContainer = document.getElementById('meal-options');
            optionsContainer.innerHTML = '';
            data.items.forEach(itemStr => {
                const p = document.createElement('p');
                p.className = "pl-4 border-l-2 border-orange-200";
                p.innerHTML = itemStr;
                optionsContainer.appendChild(p);
            });

            // Update Progress Bar
            const progress = ((currentMealIndex + 1) / mealData.length) * 100;
            document.getElementById('meal-progress-bar').style.width = `${progress}%`;
        }

        function changeMeal(direction) {
            currentMealIndex += direction;
            if (currentMealIndex < 0) currentMealIndex = mealData.length - 1;
            if (currentMealIndex >= mealData.length) currentMealIndex = 0;
            updateMealDisplay();
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            initCharts();
            selectDay(1); // Default to Day 1
            updateMealDisplay();
        });

    </script>
</body>
</html>